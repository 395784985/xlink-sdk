# 接入流程

##1.C语言接口使用步骤
* 首先在平台[http://admin.xlink.cn](http://admin.xlink.cn)上注册一个账号，并创建一个产品，这时可获得产品PID和产品密匙；
* 在平台上所创建的产品上的“设备管理”页面上添加接入设备的MAC地址；
* 然后转到接入设备开发，先选择对应模组的静态库；
* 创建配置结构体（XLINK_USER_CONFIG）变量，详情参考“C语言接口”文档；
* 配置相关参数，调用“XlinkSystemInit()”接口进行初始化，产品PID和产品密匙请使用在平台上对应产品的PID和密匙；
* 打开被扫描发现模式，调用“XlinkPorcess_UDP_Enable()”接口，打开此接口时APP才能扫描到；
* 循环执行两个系统后台函数，“XlinkSystemLoop（）和XlinkSystemTcpLoop（）”API函数；
* 等待系统连接到平台，连接成功后，在平台“设备管理”界面上对应的设备显示在线状态；
* 设备与平台连接或断开的事件可通过XLINK_USER_CONFIG结构图所注册的status回调函数来判断；
* 设备连接平台成功后，便可收发数据，发送函数请参考“C语言接口”文档；
* 如果需要使用到数据端点，请参考“数据端点“使用文档。

简易流程如下图所示：

![](images/流程图.bmp)

##2.串口模式使用步骤
* 首先在平台[http://admin.xlink.cn](http://admin.xlink.cn)上注册一个账号，并创建一个产品，这时可获得产品PID和产品密匙；
* 在平台上所创建的产品上的“设备管理”页面上添加接入设备的MAC地址；
* 将固件烧写到对应的模组或芯片上，通过对应的通讯协议来配置设备联网；
* 通讯协议请参考“设备通讯协议规范”。 
